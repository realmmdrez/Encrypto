<Window x:Class="Encrypto.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        Title="Encrypto"
        Width="1180"
        Height="680"
        MinWidth="1000"
        MinHeight="600"
        Background="#0B0F14"
        WindowStartupLocation="CenterScreen"
        FontFamily="Segoe UI"
        WindowStyle="None"
        AllowsTransparency="False">

    <shell:WindowChrome.WindowChrome>
        <shell:WindowChrome
        CaptionHeight="0"
        ResizeBorderThickness="6"
        GlassFrameThickness="0"
        UseAeroCaptionButtons="False" />
    </shell:WindowChrome.WindowChrome>

    <Border Background="#0B0F14" CornerRadius="22">
        <Grid>

            <!-- ===== ROWS ===== -->
            <Grid.RowDefinitions>
                <!-- Custom title bar -->
                <RowDefinition Height="46"/>
                <!-- App content -->
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- ================= TOP BAR (ROW 0) ================= -->
            <Grid Grid.Row="0"
                  Background="#0F1722"
                  MouseLeftButtonDown="TopBar_MouseLeftButtonDown">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="46"/>
                </Grid.ColumnDefinitions>

                <TextBlock Text="Encrypto"
                           VerticalAlignment="Center"
                           Margin="16,0,0,0"
                           FontSize="14"
                           FontWeight="SemiBold"
                           Foreground="#E6EDF3"/>

                <Button Grid.Column="1"
                        Content="✕"
                        FontSize="14"
                        FontWeight="SemiBold"
                        Foreground="#9CA3AF"
                        Background="Transparent"
                        BorderThickness="0"
                        Cursor="Hand"
                        Click="CloseButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Root"
                                    Background="Transparent"
                                    CornerRadius="8">
                                <ContentPresenter
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Root"
                                            Property="Background"
                                            Value="#2A1212"/>
                                    <Setter Property="Foreground"
                                            Value="#FF9A9A"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </Grid>

            <!-- ================= MAIN CONTENT (ROW 1) ================= -->
            <Grid Grid.Row="1" Margin="28">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="300"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- LEFT PANEL -->
                <Border Grid.Column="0"
                        Background="#0B0F14"
                        CornerRadius="22"
                        Padding="22">

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <StackPanel Grid.Row="0">
                            <TextBlock Text="Encrypto"
                                       FontSize="34"
                                       FontWeight="SemiBold"
                                       Foreground="#7CFFB2"/>

                            <TextBlock Text="Local cryptographic operations"
                                       FontSize="14"
                                       Foreground="#A7B2C1"
                                       Margin="0,6,0,0"/>
                        </StackPanel>

                        <Border Grid.Row="2"
                                Background="#0F1722"
                                BorderBrush="#1E2A3A"
                                BorderThickness="1"
                                CornerRadius="18"
                                Padding="16">

                            <StackPanel x:Name="NavigationPanel">
                                <TextBlock Text="OPERATIONS"
                                           FontSize="12"
                                           FontWeight="SemiBold"
                                           Foreground="#7E8B9B"
                                           Margin="4,0,0,12"/>

                                <Button Content="Encrypt File"
                                        Style="{StaticResource NavButtonStyle}"
                                        Click="EncryptButton_Click"/>

                                <Button Content="Decrypt File"
                                        Style="{StaticResource NavButtonStyle}"
                                        Click="DecryptButton_Click"/>

                                <Button Content="Key Generation"
                                        Style="{StaticResource NavButtonStyle}"
                                        Click="KeyGenButton_Click"/>

                                <Button Content="Secure Delete"
                                        Style="{StaticResource DangerNavButtonStyle}"
                                        Click="SecureDeleteButton_Click"/>
                            </StackPanel>
                        </Border>

                        <Border Grid.Row="3"
                                Margin="0,18,0,0"
                                Background="#0F1722"
                                BorderBrush="#1E2A3A"
                                BorderThickness="1"
                                CornerRadius="14"
                                Padding="6">

                            <Button Content="Exit"
                                    Style="{StaticResource NavButtonStyle}"
                                    Foreground="#9CA3AF"
                                    Click="ExitButton_Click"/>
                        </Border>
                    </Grid>
                </Border>

                <!-- RIGHT CONTENT -->
                <Border Grid.Column="1"
                        Background="#0F1722"
                        BorderBrush="#1E2A3A"
                        BorderThickness="1"
                        CornerRadius="22"
                        Margin="20,0,0,0">

                    <Frame x:Name="MainFrame"
                           NavigationUIVisibility="Hidden"
                           Background="Transparent"/>
                </Border>
            </Grid>

        </Grid>
    </Border>
</Window>